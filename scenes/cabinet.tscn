[gd_scene load_steps=24 format=2]

[ext_resource path="res://textures/1floor/cabinet.png" type="Texture" id=1]
[ext_resource path="res://scenes/characters/main_character.tscn" type="PackedScene" id=2]
[ext_resource path="res://addons/JitterFreePixelArt.shader" type="Shader" id=3]
[ext_resource path="res://addons/dialog_graph/DialogManager.gd" type="Script" id=4]
[ext_resource path="res://scripts/1floor/cabinet.gd" type="Script" id=15]
[ext_resource path="res://textures/furniture/bookshelf_empty.png" type="Texture" id=16]
[ext_resource path="res://textures/furniture/cupboard.png" type="Texture" id=17]
[ext_resource path="res://textures/furniture/bookshelf.png" type="Texture" id=18]
[ext_resource path="res://textures/furniture/drawer.png" type="Texture" id=19]
[ext_resource path="res://textures/furniture/table_light.png" type="Texture" id=20]

[sub_resource type="ShaderMaterial" id=1]
shader = ExtResource( 3 )

[sub_resource type="ShaderMaterial" id=2]
shader = ExtResource( 3 )

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 14.126, 2.54059 )

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 1.60419, 12.8426 )

[sub_resource type="ShaderMaterial" id=5]
shader = ExtResource( 3 )

[sub_resource type="ShaderMaterial" id=6]
shader = ExtResource( 3 )

[sub_resource type="ShaderMaterial" id=7]
shader = ExtResource( 3 )

[sub_resource type="ShaderMaterial" id=8]
shader = ExtResource( 3 )

[sub_resource type="ShaderMaterial" id=9]
shader = ExtResource( 3 )

[sub_resource type="ShaderMaterial" id=10]
shader = ExtResource( 3 )

[sub_resource type="ShaderMaterial" id=11]
shader = ExtResource( 3 )

[sub_resource type="ShaderMaterial" id=12]
shader = ExtResource( 3 )

[sub_resource type="ShaderMaterial" id=13]
shader = ExtResource( 3 )

[node name="Node" type="Node"]
script = ExtResource( 15 )

[node name="ColorRect" type="ColorRect" parent="."]
margin_left = -817.909
margin_top = -585.26
margin_right = 1725.09
margin_bottom = 1176.74
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Sprite" type="Sprite" parent="."]
material = SubResource( 1 )
position = Vector2( 527.949, 337.095 )
texture = ExtResource( 1 )

[node name="walls" type="StaticBody2D" parent="."]
scale = Vector2( 0.985838, 1.00058 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="walls"]
position = Vector2( 2.38419e-07, 0 )
scale = Vector2( 0.995039, 1.08077 )
polygon = PoolVector2Array( 387.646, 261.231, 695.246, 260.774, 695.483, 387.546, 638.786, 387.468, 638.581, 393.802, 608.118, 394.016, 607.49, 387.346, 387.341, 387.102, 386.927, 312.771, 381.399, 312.667, 380.708, 288.327, 387.246, 288.419, 387.273, 259.181, 375.296, 259.808, 378.572, 394.369, 701.419, 397.275, 699.744, 224.143, 382.643, 224.501, 387.086, 229.503 )

[node name="table_light" type="Sprite" parent="walls/CollisionPolygon2D"]
material = SubResource( 2 )
position = Vector2( 551.508, 314.408 )
texture = ExtResource( 20 )

[node name="g_cab" type="Area2D" parent="."]
position = Vector2( 599.388, 420.407 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="g_cab"]
position = Vector2( 11.645, 2.5278 )
shape = SubResource( 3 )

[node name="spawn" type="Position2D" parent="."]
position = Vector2( 591.284, 352.987 )

[node name="hall" type="Area2D" parent="."]
position = Vector2( 382.931, 325.955 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="hall"]
position = Vector2( -4.80231, -0.94696 )
shape = SubResource( 4 )

[node name="bookshelf" type="Sprite" parent="."]
material = SubResource( 5 )
position = Vector2( 395.213, 273 )
texture = ExtResource( 18 )

[node name="bookshelf2" type="Sprite" parent="."]
material = SubResource( 6 )
position = Vector2( 426.213, 273 )
texture = ExtResource( 18 )

[node name="bookshelf_empty3" type="Sprite" parent="."]
material = SubResource( 7 )
position = Vector2( 457.213, 273 )
texture = ExtResource( 16 )

[node name="bookshelf_empty2" type="Sprite" parent="."]
material = SubResource( 8 )
position = Vector2( 546, 273 )
texture = ExtResource( 16 )

[node name="bookshelf" type="Sprite" parent="bookshelf_empty2"]
material = SubResource( 9 )
position = Vector2( 31, 0 )
texture = ExtResource( 18 )

[node name="drawer" type="Sprite" parent="bookshelf_empty2/bookshelf"]
material = SubResource( 10 )
position = Vector2( 30, 5 )
texture = ExtResource( 19 )

[node name="drawer" type="Sprite" parent="."]
material = SubResource( 11 )
position = Vector2( 636, 278 )
texture = ExtResource( 19 )

[node name="cupboard" type="Sprite" parent="drawer"]
material = SubResource( 12 )
position = Vector2( -149, -4.99997 )
texture = ExtResource( 17 )

[node name="cupboard" type="Sprite" parent="."]
material = SubResource( 13 )
position = Vector2( 516, 273 )
scale = Vector2( 1, 0.984965 )
texture = ExtResource( 17 )

[node name="player" parent="." instance=ExtResource( 2 )]
position = Vector2( 579, 359 )

[node name="DialogManager" type="Node" parent="."]
script = ExtResource( 4 )
[connection signal="body_entered" from="g_cab" to="." method="_on_Area2D_body_entered"]
[connection signal="body_entered" from="hall" to="." method="_on_hall_body_entered"]
